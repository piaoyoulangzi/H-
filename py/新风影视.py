# coding=utf-8
# !/usr/bin/python
import sys
import requests
from bs4 import BeautifulSoup
import re
from base.spider import Spider
from urllib.parse import unquote
sys.path.append('..')
xurl = "https://xfys01.com"
headerx = {
    'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.87 Safari/537.36'
}
class Spider(Spider):
    global xurl
    global headerx

    def getName(self):
        return "首页"

    def init(self, extend):
        pass

    def isVideoFormat(self, url):
        pass

    def manualVideoCheck(self):
        pass

    def homeContent(self, filter):
        result = {}
        result = {"class": [{"type_id": "1", "type_name": "电影"}, {"type_id": "70", "type_name": "国产剧"},
                            {"type_id": "25", "type_name": "韩剧"}, {"type_id": "21", "type_name": "日剧"},
                            {"type_id": "28", "type_name": "欧美剧"}, {"type_id": "69", "type_name": "大陆综艺"},
                            {"type_id": "19", "type_name": "日韩综艺"}, {"type_id": "29", "type_name": "欧美综艺"},
                            {"type_id": "4", "type_name": "动漫"}, {"type_id": "10", "type_name": "纪录片"}],
                  "list": [], "filters": {"1": [{"key": "类型", "name": "类型",
                                                 "value": [{"n": "全部", "v": ""}, {"n": "战争片", "v": "11"},
                                                           {"n": "喜剧片", "v": "12"}, {"n": "动作片", "v": "14"},
                                                           {"n": "爱情片", "v": "15"}, {"n": "科幻片", "v": "16"},
                                                           {"n": "恐怖片", "v": "17"}, {"n": "剧情片", "v": "18"},
                                                           {"n": "犯罪片", "v": "64"}, {"n": "电影解说", "v": "68"},
                                                           {"n": "其他片", "v": "65"}, {"n": "港台三级", "v": "67"},
                                                           {"n": "伦理片", "v": "66"}]}, {"key": "年代", "name": "年代",
                                                                                          "value": [
                                                                                              {"n": "全部", "v": ""},
                                                                                              {"n": "2024",
                                                                                               "v": "2024"},
                                                                                              {"n": "2023",
                                                                                               "v": "2023"},
                                                                                              {"n": "2022",
                                                                                               "v": "2022"},
                                                                                              {"n": "2021",
                                                                                               "v": "2021"},
                                                                                              {"n": "2020",
                                                                                               "v": "2020"},
                                                                                              {"n": "2019",
                                                                                               "v": "2019"},
                                                                                              {"n": "2018",
                                                                                               "v": "2018"},
                                                                                              {"n": "2017",
                                                                                               "v": "2017"},
                                                                                              {"n": "2016",
                                                                                               "v": "2016"},
                                                                                              {"n": "2015",
                                                                                               "v": "2015"},
                                                                                              {"n": "2014",
                                                                                               "v": "2014"},
                                                                                              {"n": "2013",
                                                                                               "v": "2013"},
                                                                                              {"n": "2012",
                                                                                               "v": "2012"},
                                                                                              {"n": "2011",
                                                                                               "v": "2011"},
                                                                                              {"n": "2010",
                                                                                               "v": "2010"},
                                                                                              {"n": "2009",
                                                                                               "v": "2009"},
                                                                                              {"n": "2008",
                                                                                               "v": "2008"},
                                                                                              {"n": "2007",
                                                                                               "v": "2007"},
                                                                                              {"n": "2006",
                                                                                               "v": "2006"},
                                                                                              {"n": "2005",
                                                                                               "v": "2005"},
                                                                                              {"n": "2004",
                                                                                               "v": "2004"},
                                                                                              {"n": "2003",
                                                                                               "v": "2003"},
                                                                                              {"n": "2002",
                                                                                               "v": "2002"},
                                                                                              {"n": "2001",
                                                                                               "v": "2001"},
                                                                                              {"n": "2000",
                                                                                               "v": "2000"}]},
                                                {"key": "地区", "name": "地区",
                                                 "value": [{"n": "全部", "v": ""}, {"n": "大陆", "v": "大陆"},
                                                           {"n": "香港", "v": "香港"}, {"n": "台湾", "v": "台湾"},
                                                           {"n": "美国", "v": "美国"}, {"n": "韩国", "v": "韩国"},
                                                           {"n": "日本", "v": "日本"}, {"n": "法国", "v": "法国"},
                                                           {"n": "英国", "v": "英国"}, {"n": "德国", "v": "德国"},
                                                           {"n": "泰国", "v": "泰国"}, {"n": "印度", "v": "印度"},
                                                           {"n": "新加坡", "v": "新加坡"},
                                                           {"n": "加拿大", "v": "加拿大"},
                                                           {"n": "西班牙", "v": "西班牙"},
                                                           {"n": "俄罗斯", "v": "俄罗斯"}, {"n": "其他", "v": "其他"}]},
                                                {"key": "语言", "name": "语言",
                                                 "value": [{"n": "全部", "v": ""}, {"n": "国语", "v": "国语"},
                                                           {"n": "英语", "v": "英语"}, {"n": "粤语", "v": "粤语"},
                                                           {"n": "闽南语", "v": "闽南语"}, {"n": "韩语", "v": "韩语"},
                                                           {"n": "日语", "v": "日语"}, {"n": "法语", "v": "法语"},
                                                           {"n": "德语", "v": "德语"}, {"n": "其他", "v": "其他"}]},
                                                {"key": "字母", "name": "字母",
                                                 "value": [{"n": "全部", "v": ""}, {"n": "A", "v": "A"},
                                                           {"n": "B", "v": "B"}, {"n": "C", "v": "C"},
                                                           {"n": "D", "v": "D"}, {"n": "E", "v": "E"},
                                                           {"n": "F", "v": "F"}, {"n": "G", "v": "G"},
                                                           {"n": "H", "v": "H"}, {"n": "I", "v": "I"},
                                                           {"n": "J", "v": "J"}, {"n": "K", "v": "K"},
                                                           {"n": "L", "v": "L"}, {"n": "M", "v": "M"},
                                                           {"n": "N", "v": "N"}, {"n": "O", "v": "O"},
                                                           {"n": "P", "v": "P"}, {"n": "Q", "v": "Q"},
                                                           {"n": "R", "v": "R"}, {"n": "S", "v": "S"},
                                                           {"n": "T", "v": "T"}, {"n": "U", "v": "U"},
                                                           {"n": "V", "v": "V"}, {"n": "W", "v": "W"},
                                                           {"n": "X", "v": "X"}, {"n": "Y", "v": "Y"},
                                                           {"n": "Z", "v": "Z"}]}, {"key": "排序", "name": "排序",
                                                                                    "value": [{"n": "全部", "v": ""},
                                                                                              {"n": "时间",
                                                                                               "v": "time"},
                                                                                              {"n": "人气",
                                                                                               "v": "hits"},
                                                                                              {"n": "评分",
                                                                                               "v": "score"}]}], "70": [
                {"key": "类型", "name": "类型",
                 "value": [{"n": "全部", "v": ""}, {"n": "爱情", "v": "爱情"}, {"n": "动作", "v": "动作"},
                           {"n": "喜剧", "v": "喜剧"}, {"n": "战争", "v": "战争"}, {"n": "科幻", "v": "科幻"},
                           {"n": "剧情", "v": "剧情"}, {"n": "武侠", "v": "武侠"}, {"n": "冒险", "v": "冒险"},
                           {"n": "枪战", "v": "枪战"}, {"n": "恐怖", "v": "恐怖"}, {"n": "其他", "v": "其他"}]},
                {"key": "年代", "name": "年代",
                 "value": [{"n": "全部", "v": ""}, {"n": "2024", "v": "2024"}, {"n": "2023", "v": "2023"},
                           {"n": "2022", "v": "2022"}, {"n": "2021", "v": "2021"}, {"n": "2020", "v": "2020"},
                           {"n": "2019", "v": "2019"}, {"n": "2018", "v": "2018"}, {"n": "2017", "v": "2017"},
                           {"n": "2016", "v": "2016"}, {"n": "2015", "v": "2015"}, {"n": "2014", "v": "2014"},
                           {"n": "2013", "v": "2013"}, {"n": "2012", "v": "2012"}, {"n": "2011", "v": "2011"},
                           {"n": "2010", "v": "2010"}, {"n": "2009", "v": "2009"}, {"n": "2008", "v": "2008"},
                           {"n": "2007", "v": "2007"}, {"n": "2006", "v": "2006"}, {"n": "2005", "v": "2005"},
                           {"n": "2004", "v": "2004"}, {"n": "2003", "v": "2003"}, {"n": "2002", "v": "2002"},
                           {"n": "2001", "v": "2001"}, {"n": "2000", "v": "2000"}]}, {"key": "地区", "name": "地区",
                                                                                      "value": [{"n": "全部", "v": ""},
                                                                                                {"n": "大陆",
                                                                                                 "v": "大陆"},
                                                                                                {"n": "香港",
                                                                                                 "v": "香港"},
                                                                                                {"n": "台湾",
                                                                                                 "v": "台湾"},
                                                                                                {"n": "其他",
                                                                                                 "v": "其他"}]},
                {"key": "字母", "name": "字母",
                 "value": [{"n": "全部", "v": ""}, {"n": "A", "v": "A"}, {"n": "B", "v": "B"}, {"n": "C", "v": "C"},
                           {"n": "D", "v": "D"}, {"n": "E", "v": "E"}, {"n": "F", "v": "F"}, {"n": "G", "v": "G"},
                           {"n": "H", "v": "H"}, {"n": "I", "v": "I"}, {"n": "J", "v": "J"}, {"n": "K", "v": "K"},
                           {"n": "L", "v": "L"}, {"n": "M", "v": "M"}, {"n": "N", "v": "N"}, {"n": "O", "v": "O"},
                           {"n": "P", "v": "P"}, {"n": "Q", "v": "Q"}, {"n": "R", "v": "R"}, {"n": "S", "v": "S"},
                           {"n": "T", "v": "T"}, {"n": "U", "v": "U"}, {"n": "V", "v": "V"}, {"n": "W", "v": "W"},
                           {"n": "X", "v": "X"}, {"n": "Y", "v": "Y"}, {"n": "Z", "v": "Z"}]},
                {"key": "排序", "name": "排序",
                 "value": [{"n": "全部", "v": ""}, {"n": "时间", "v": "time"}, {"n": "人气", "v": "hits"},
                           {"n": "评分", "v": "score"}]}], "25": [{"key": "类型", "name": "类型",
                                                                   "value": [{"n": "全部", "v": ""},
                                                                             {"n": "爱情", "v": "爱情"},
                                                                             {"n": "动作", "v": "动作"},
                                                                             {"n": "喜剧", "v": "喜剧"},
                                                                             {"n": "战争", "v": "战争"},
                                                                             {"n": "科幻", "v": "科幻"},
                                                                             {"n": "剧情", "v": "剧情"},
                                                                             {"n": "武侠", "v": "武侠"},
                                                                             {"n": "冒险", "v": "冒险"},
                                                                             {"n": "枪战", "v": "枪战"},
                                                                             {"n": "恐怖", "v": "恐怖"},
                                                                             {"n": "其他", "v": "其他"}]},
                                                                  {"key": "年代", "name": "年代",
                                                                   "value": [{"n": "全部", "v": ""},
                                                                             {"n": "2024", "v": "2024"},
                                                                             {"n": "2023", "v": "2023"},
                                                                             {"n": "2022", "v": "2022"},
                                                                             {"n": "2021", "v": "2021"},
                                                                             {"n": "2020", "v": "2020"},
                                                                             {"n": "2019", "v": "2019"},
                                                                             {"n": "2018", "v": "2018"},
                                                                             {"n": "2017", "v": "2017"},
                                                                             {"n": "2016", "v": "2016"},
                                                                             {"n": "2015", "v": "2015"},
                                                                             {"n": "2014", "v": "2014"},
                                                                             {"n": "2013", "v": "2013"},
                                                                             {"n": "2012", "v": "2012"},
                                                                             {"n": "2011", "v": "2011"},
                                                                             {"n": "2010", "v": "2010"},
                                                                             {"n": "2009", "v": "2009"},
                                                                             {"n": "2008", "v": "2008"},
                                                                             {"n": "2007", "v": "2007"},
                                                                             {"n": "2006", "v": "2006"},
                                                                             {"n": "2005", "v": "2005"},
                                                                             {"n": "2004", "v": "2004"},
                                                                             {"n": "2003", "v": "2003"},
                                                                             {"n": "2002", "v": "2002"},
                                                                             {"n": "2001", "v": "2001"},
                                                                             {"n": "2000", "v": "2000"}]},
                                                                  {"key": "字母", "name": "字母",
                                                                   "value": [{"n": "全部", "v": ""},
                                                                             {"n": "A", "v": "A"}, {"n": "B", "v": "B"},
                                                                             {"n": "C", "v": "C"}, {"n": "D", "v": "D"},
                                                                             {"n": "E", "v": "E"}, {"n": "F", "v": "F"},
                                                                             {"n": "G", "v": "G"}, {"n": "H", "v": "H"},
                                                                             {"n": "I", "v": "I"}, {"n": "J", "v": "J"},
                                                                             {"n": "K", "v": "K"}, {"n": "L", "v": "L"},
                                                                             {"n": "M", "v": "M"}, {"n": "N", "v": "N"},
                                                                             {"n": "O", "v": "O"}, {"n": "P", "v": "P"},
                                                                             {"n": "Q", "v": "Q"}, {"n": "R", "v": "R"},
                                                                             {"n": "S", "v": "S"}, {"n": "T", "v": "T"},
                                                                             {"n": "U", "v": "U"}, {"n": "V", "v": "V"},
                                                                             {"n": "W", "v": "W"}, {"n": "X", "v": "X"},
                                                                             {"n": "Y", "v": "Y"},
                                                                             {"n": "Z", "v": "Z"}]},
                                                                  {"key": "排序", "name": "排序",
                                                                   "value": [{"n": "全部", "v": ""},
                                                                             {"n": "时间", "v": "time"},
                                                                             {"n": "人气", "v": "hits"},
                                                                             {"n": "评分", "v": "score"}]}], "21": [
                {"key": "类型", "name": "类型",
                 "value": [{"n": "全部", "v": ""}, {"n": "爱情", "v": "爱情"}, {"n": "动作", "v": "动作"},
                           {"n": "喜剧", "v": "喜剧"}, {"n": "战争", "v": "战争"}, {"n": "科幻", "v": "科幻"},
                           {"n": "剧情", "v": "剧情"}, {"n": "武侠", "v": "武侠"}, {"n": "冒险", "v": "冒险"},
                           {"n": "枪战", "v": "枪战"}, {"n": "恐怖", "v": "恐怖"}, {"n": "其他", "v": "其他"}]},
                {"key": "年代", "name": "年代",
                 "value": [{"n": "全部", "v": ""}, {"n": "2024", "v": "2024"}, {"n": "2023", "v": "2023"},
                           {"n": "2022", "v": "2022"}, {"n": "2021", "v": "2021"}, {"n": "2020", "v": "2020"},
                           {"n": "2019", "v": "2019"}, {"n": "2018", "v": "2018"}, {"n": "2017", "v": "2017"},
                           {"n": "2016", "v": "2016"}, {"n": "2015", "v": "2015"}, {"n": "2014", "v": "2014"},
                           {"n": "2013", "v": "2013"}, {"n": "2012", "v": "2012"}, {"n": "2011", "v": "2011"},
                           {"n": "2010", "v": "2010"}, {"n": "2009", "v": "2009"}, {"n": "2008", "v": "2008"},
                           {"n": "2007", "v": "2007"}, {"n": "2006", "v": "2006"}, {"n": "2005", "v": "2005"},
                           {"n": "2004", "v": "2004"}, {"n": "2003", "v": "2003"}, {"n": "2002", "v": "2002"},
                           {"n": "2001", "v": "2001"}, {"n": "2000", "v": "2000"}]}, {"key": "字母", "name": "字母",
                                                                                      "value": [{"n": "全部", "v": ""},
                                                                                                {"n": "A", "v": "A"},
                                                                                                {"n": "B", "v": "B"},
                                                                                                {"n": "C", "v": "C"},
                                                                                                {"n": "D", "v": "D"},
                                                                                                {"n": "E", "v": "E"},
                                                                                                {"n": "F", "v": "F"},
                                                                                                {"n": "G", "v": "G"},
                                                                                                {"n": "H", "v": "H"},
                                                                                                {"n": "I", "v": "I"},
                                                                                                {"n": "J", "v": "J"},
                                                                                                {"n": "K", "v": "K"},
                                                                                                {"n": "L", "v": "L"},
                                                                                                {"n": "M", "v": "M"},
                                                                                                {"n": "N", "v": "N"},
                                                                                                {"n": "O", "v": "O"},
                                                                                                {"n": "P", "v": "P"},
                                                                                                {"n": "Q", "v": "Q"},
                                                                                                {"n": "R", "v": "R"},
                                                                                                {"n": "S", "v": "S"},
                                                                                                {"n": "T", "v": "T"},
                                                                                                {"n": "U", "v": "U"},
                                                                                                {"n": "V", "v": "V"},
                                                                                                {"n": "W", "v": "W"},
                                                                                                {"n": "X", "v": "X"},
                                                                                                {"n": "Y", "v": "Y"},
                                                                                                {"n": "Z", "v": "Z"}]},
                {"key": "排序", "name": "排序",
                 "value": [{"n": "全部", "v": ""}, {"n": "时间", "v": "time"}, {"n": "人气", "v": "hits"},
                           {"n": "评分", "v": "score"}]}], "28": [{"key": "类型", "name": "类型",
                                                                   "value": [{"n": "全部", "v": ""},
                                                                             {"n": "爱情", "v": "爱情"},
                                                                             {"n": "动作", "v": "动作"},
                                                                             {"n": "喜剧", "v": "喜剧"},
                                                                             {"n": "战争", "v": "战争"},
                                                                             {"n": "科幻", "v": "科幻"},
                                                                             {"n": "剧情", "v": "剧情"},
                                                                             {"n": "武侠", "v": "武侠"},
                                                                             {"n": "冒险", "v": "冒险"},
                                                                             {"n": "枪战", "v": "枪战"},
                                                                             {"n": "恐怖", "v": "恐怖"},
                                                                             {"n": "其他", "v": "其他"}]},
                                                                  {"key": "年代", "name": "年代",
                                                                   "value": [{"n": "全部", "v": ""},
                                                                             {"n": "2024", "v": "2024"},
                                                                             {"n": "2023", "v": "2023"},
                                                                             {"n": "2022", "v": "2022"},
                                                                             {"n": "2021", "v": "2021"},
                                                                             {"n": "2020", "v": "2020"},
                                                                             {"n": "2019", "v": "2019"},
                                                                             {"n": "2018", "v": "2018"},
                                                                             {"n": "2017", "v": "2017"},
                                                                             {"n": "2016", "v": "2016"},
                                                                             {"n": "2015", "v": "2015"},
                                                                             {"n": "2014", "v": "2014"},
                                                                             {"n": "2013", "v": "2013"},
                                                                             {"n": "2012", "v": "2012"},
                                                                             {"n": "2011", "v": "2011"},
                                                                             {"n": "2010", "v": "2010"},
                                                                             {"n": "2009", "v": "2009"},
                                                                             {"n": "2008", "v": "2008"},
                                                                             {"n": "2007", "v": "2007"},
                                                                             {"n": "2006", "v": "2006"},
                                                                             {"n": "2005", "v": "2005"},
                                                                             {"n": "2004", "v": "2004"},
                                                                             {"n": "2003", "v": "2003"},
                                                                             {"n": "2002", "v": "2002"},
                                                                             {"n": "2001", "v": "2001"},
                                                                             {"n": "2000", "v": "2000"}]},
                                                                  {"key": "字母", "name": "字母",
                                                                   "value": [{"n": "全部", "v": ""},
                                                                             {"n": "A", "v": "A"}, {"n": "B", "v": "B"},
                                                                             {"n": "C", "v": "C"}, {"n": "D", "v": "D"},
                                                                             {"n": "E", "v": "E"}, {"n": "F", "v": "F"},
                                                                             {"n": "G", "v": "G"}, {"n": "H", "v": "H"},
                                                                             {"n": "I", "v": "I"}, {"n": "J", "v": "J"},
                                                                             {"n": "K", "v": "K"}, {"n": "L", "v": "L"},
                                                                             {"n": "M", "v": "M"}, {"n": "N", "v": "N"},
                                                                             {"n": "O", "v": "O"}, {"n": "P", "v": "P"},
                                                                             {"n": "Q", "v": "Q"}, {"n": "R", "v": "R"},
                                                                             {"n": "S", "v": "S"}, {"n": "T", "v": "T"},
                                                                             {"n": "U", "v": "U"}, {"n": "V", "v": "V"},
                                                                             {"n": "W", "v": "W"}, {"n": "X", "v": "X"},
                                                                             {"n": "Y", "v": "Y"},
                                                                             {"n": "Z", "v": "Z"}]},
                                                                  {"key": "排序", "name": "排序",
                                                                   "value": [{"n": "全部", "v": ""},
                                                                             {"n": "时间", "v": "time"},
                                                                             {"n": "人气", "v": "hits"},
                                                                             {"n": "评分", "v": "score"}]}], "69": [
                {"key": "年代", "name": "年代",
                 "value": [{"n": "全部", "v": ""}, {"n": "2024", "v": "2024"}, {"n": "2023", "v": "2023"},
                           {"n": "2022", "v": "2022"}, {"n": "2021", "v": "2021"}, {"n": "2020", "v": "2020"},
                           {"n": "2019", "v": "2019"}, {"n": "2018", "v": "2018"}, {"n": "2017", "v": "2017"},
                           {"n": "2016", "v": "2016"}, {"n": "2015", "v": "2015"}, {"n": "2014", "v": "2014"},
                           {"n": "2013", "v": "2013"}, {"n": "2012", "v": "2012"}, {"n": "2011", "v": "2011"},
                           {"n": "2010", "v": "2010"}, {"n": "2009", "v": "2009"}, {"n": "2008", "v": "2008"},
                           {"n": "2007", "v": "2007"}, {"n": "2006", "v": "2006"}, {"n": "2005", "v": "2005"},
                           {"n": "2004", "v": "2004"}, {"n": "2003", "v": "2003"}, {"n": "2002", "v": "2002"},
                           {"n": "2001", "v": "2001"}, {"n": "2000", "v": "2000"}]}, {"key": "字母", "name": "字母",
                                                                                      "value": [{"n": "全部", "v": ""},
                                                                                                {"n": "A", "v": "A"},
                                                                                                {"n": "B", "v": "B"},
                                                                                                {"n": "C", "v": "C"},
                                                                                                {"n": "D", "v": "D"},
                                                                                                {"n": "E", "v": "E"},
                                                                                                {"n": "F", "v": "F"},
                                                                                                {"n": "G", "v": "G"},
                                                                                                {"n": "H", "v": "H"},
                                                                                                {"n": "I", "v": "I"},
                                                                                                {"n": "J", "v": "J"},
                                                                                                {"n": "K", "v": "K"},
                                                                                                {"n": "L", "v": "L"},
                                                                                                {"n": "M", "v": "M"},
                                                                                                {"n": "N", "v": "N"},
                                                                                                {"n": "O", "v": "O"},
                                                                                                {"n": "P", "v": "P"},
                                                                                                {"n": "Q", "v": "Q"},
                                                                                                {"n": "R", "v": "R"},
                                                                                                {"n": "S", "v": "S"},
                                                                                                {"n": "T", "v": "T"},
                                                                                                {"n": "U", "v": "U"},
                                                                                                {"n": "V", "v": "V"},
                                                                                                {"n": "W", "v": "W"},
                                                                                                {"n": "X", "v": "X"},
                                                                                                {"n": "Y", "v": "Y"},
                                                                                                {"n": "Z", "v": "Z"}]},
                {"key": "排序", "name": "排序",
                 "value": [{"n": "全部", "v": ""}, {"n": "时间", "v": "time"}, {"n": "人气", "v": "hits"},
                           {"n": "评分", "v": "score"}]}], "19": [{"key": "年代", "name": "年代",
                                                                   "value": [{"n": "全部", "v": ""},
                                                                             {"n": "2024", "v": "2024"},
                                                                             {"n": "2023", "v": "2023"},
                                                                             {"n": "2022", "v": "2022"},
                                                                             {"n": "2021", "v": "2021"},
                                                                             {"n": "2020", "v": "2020"},
                                                                             {"n": "2019", "v": "2019"},
                                                                             {"n": "2018", "v": "2018"},
                                                                             {"n": "2017", "v": "2017"},
                                                                             {"n": "2016", "v": "2016"},
                                                                             {"n": "2015", "v": "2015"},
                                                                             {"n": "2014", "v": "2014"},
                                                                             {"n": "2013", "v": "2013"},
                                                                             {"n": "2012", "v": "2012"},
                                                                             {"n": "2011", "v": "2011"},
                                                                             {"n": "2010", "v": "2010"},
                                                                             {"n": "2009", "v": "2009"},
                                                                             {"n": "2008", "v": "2008"},
                                                                             {"n": "2007", "v": "2007"},
                                                                             {"n": "2006", "v": "2006"},
                                                                             {"n": "2005", "v": "2005"},
                                                                             {"n": "2004", "v": "2004"},
                                                                             {"n": "2003", "v": "2003"},
                                                                             {"n": "2002", "v": "2002"},
                                                                             {"n": "2001", "v": "2001"},
                                                                             {"n": "2000", "v": "2000"}]},
                                                                  {"key": "字母", "name": "字母",
                                                                   "value": [{"n": "全部", "v": ""},
                                                                             {"n": "A", "v": "A"}, {"n": "B", "v": "B"},
                                                                             {"n": "C", "v": "C"}, {"n": "D", "v": "D"},
                                                                             {"n": "E", "v": "E"}, {"n": "F", "v": "F"},
                                                                             {"n": "G", "v": "G"}, {"n": "H", "v": "H"},
                                                                             {"n": "I", "v": "I"}, {"n": "J", "v": "J"},
                                                                             {"n": "K", "v": "K"}, {"n": "L", "v": "L"},
                                                                             {"n": "M", "v": "M"}, {"n": "N", "v": "N"},
                                                                             {"n": "O", "v": "O"}, {"n": "P", "v": "P"},
                                                                             {"n": "Q", "v": "Q"}, {"n": "R", "v": "R"},
                                                                             {"n": "S", "v": "S"}, {"n": "T", "v": "T"},
                                                                             {"n": "U", "v": "U"}, {"n": "V", "v": "V"},
                                                                             {"n": "W", "v": "W"}, {"n": "X", "v": "X"},
                                                                             {"n": "Y", "v": "Y"},
                                                                             {"n": "Z", "v": "Z"}]},
                                                                  {"key": "排序", "name": "排序",
                                                                   "value": [{"n": "全部", "v": ""},
                                                                             {"n": "时间", "v": "time"},
                                                                             {"n": "人气", "v": "hits"},
                                                                             {"n": "评分", "v": "score"}]}], "29": [
                {"key": "年代", "name": "年代",
                 "value": [{"n": "全部", "v": ""}, {"n": "2024", "v": "2024"}, {"n": "2023", "v": "2023"},
                           {"n": "2022", "v": "2022"}, {"n": "2021", "v": "2021"}, {"n": "2020", "v": "2020"},
                           {"n": "2019", "v": "2019"}, {"n": "2018", "v": "2018"}, {"n": "2017", "v": "2017"},
                           {"n": "2016", "v": "2016"}, {"n": "2015", "v": "2015"}, {"n": "2014", "v": "2014"},
                           {"n": "2013", "v": "2013"}, {"n": "2012", "v": "2012"}, {"n": "2011", "v": "2011"},
                           {"n": "2010", "v": "2010"}, {"n": "2009", "v": "2009"}, {"n": "2008", "v": "2008"},
                           {"n": "2007", "v": "2007"}, {"n": "2006", "v": "2006"}, {"n": "2005", "v": "2005"},
                           {"n": "2004", "v": "2004"}, {"n": "2003", "v": "2003"}, {"n": "2002", "v": "2002"},
                           {"n": "2001", "v": "2001"}, {"n": "2000", "v": "2000"}]}, {"key": "字母", "name": "字母",
                                                                                      "value": [{"n": "全部", "v": ""},
                                                                                                {"n": "A", "v": "A"},
                                                                                                {"n": "B", "v": "B"},
                                                                                                {"n": "C", "v": "C"},
                                                                                                {"n": "D", "v": "D"},
                                                                                                {"n": "E", "v": "E"},
                                                                                                {"n": "F", "v": "F"},
                                                                                                {"n": "G", "v": "G"},
                                                                                                {"n": "H", "v": "H"},
                                                                                                {"n": "I", "v": "I"},
                                                                                                {"n": "J", "v": "J"},
                                                                                                {"n": "K", "v": "K"},
                                                                                                {"n": "L", "v": "L"},
                                                                                                {"n": "M", "v": "M"},
                                                                                                {"n": "N", "v": "N"},
                                                                                                {"n": "O", "v": "O"},
                                                                                                {"n": "P", "v": "P"},
                                                                                                {"n": "Q", "v": "Q"},
                                                                                                {"n": "R", "v": "R"},
                                                                                                {"n": "S", "v": "S"},
                                                                                                {"n": "T", "v": "T"},
                                                                                                {"n": "U", "v": "U"},
                                                                                                {"n": "V", "v": "V"},
                                                                                                {"n": "W", "v": "W"},
                                                                                                {"n": "X", "v": "X"},
                                                                                                {"n": "Y", "v": "Y"},
                                                                                                {"n": "Z", "v": "Z"}]},
                {"key": "排序", "name": "排序",
                 "value": [{"n": "全部", "v": ""}, {"n": "时间", "v": "time"}, {"n": "人气", "v": "hits"},
                           {"n": "评分", "v": "score"}]}], "4": [{"key": "类型", "name": "类型",
                                                                  "value": [{"n": "全部", "v": ""},
                                                                            {"n": "国产动漫", "v": "41"},
                                                                            {"n": "日韩动漫", "v": "39"},
                                                                            {"n": "欧美动漫", "v": "37"}]},
                                                                 {"key": "年代", "name": "年代",
                                                                  "value": [{"n": "全部", "v": ""},
                                                                            {"n": "2024", "v": "2024"},
                                                                            {"n": "2023", "v": "2023"},
                                                                            {"n": "2022", "v": "2022"},
                                                                            {"n": "2021", "v": "2021"},
                                                                            {"n": "2020", "v": "2020"},
                                                                            {"n": "2019", "v": "2019"},
                                                                            {"n": "2018", "v": "2018"},
                                                                            {"n": "2017", "v": "2017"},
                                                                            {"n": "2016", "v": "2016"},
                                                                            {"n": "2015", "v": "2015"},
                                                                            {"n": "2014", "v": "2014"},
                                                                            {"n": "2013", "v": "2013"},
                                                                            {"n": "2012", "v": "2012"},
                                                                            {"n": "2011", "v": "2011"},
                                                                            {"n": "2010", "v": "2010"},
                                                                            {"n": "2009", "v": "2009"},
                                                                            {"n": "2008", "v": "2008"},
                                                                            {"n": "2007", "v": "2007"},
                                                                            {"n": "2006", "v": "2006"},
                                                                            {"n": "2005", "v": "2005"},
                                                                            {"n": "2004", "v": "2004"},
                                                                            {"n": "2003", "v": "2003"},
                                                                            {"n": "2002", "v": "2002"},
                                                                            {"n": "2001", "v": "2001"},
                                                                            {"n": "2000", "v": "2000"}]},
                                                                 {"key": "字母", "name": "字母",
                                                                  "value": [{"n": "全部", "v": ""},
                                                                            {"n": "A", "v": "A"}, {"n": "B", "v": "B"},
                                                                            {"n": "C", "v": "C"}, {"n": "D", "v": "D"},
                                                                            {"n": "E", "v": "E"}, {"n": "F", "v": "F"},
                                                                            {"n": "G", "v": "G"}, {"n": "H", "v": "H"},
                                                                            {"n": "I", "v": "I"}, {"n": "J", "v": "J"},
                                                                            {"n": "K", "v": "K"}, {"n": "L", "v": "L"},
                                                                            {"n": "M", "v": "M"}, {"n": "N", "v": "N"},
                                                                            {"n": "O", "v": "O"}, {"n": "P", "v": "P"},
                                                                            {"n": "Q", "v": "Q"}, {"n": "R", "v": "R"},
                                                                            {"n": "S", "v": "S"}, {"n": "T", "v": "T"},
                                                                            {"n": "U", "v": "U"}, {"n": "V", "v": "V"},
                                                                            {"n": "W", "v": "W"}, {"n": "X", "v": "X"},
                                                                            {"n": "Y", "v": "Y"},
                                                                            {"n": "Z", "v": "Z"}]},
                                                                 {"key": "排序", "name": "排序",
                                                                  "value": [{"n": "全部", "v": ""},
                                                                            {"n": "时间", "v": "time"},
                                                                            {"n": "人气", "v": "hits"},
                                                                            {"n": "评分", "v": "score"}]}]}}
        return result

    def homeVideoContent(self):
        try:
            videos = []
            detail = requests.get(url=xurl, headers=headerx)
            detail.encoding = "utf-8"
            doc = BeautifulSoup(detail.text, "html.parser")
            soup = doc.find_all('div', class_="ewaveui-panel ewaveui-panel-bg clearfix")
            for soup2 in soup:
                if soup2.find('h3').text != ' 大片推荐 ':
                    vods = soup2.find_all('li')
                    for vod in vods:
                        a_tag = vod.select_one("div a")
                        name = vod.select_one("div a")['title']
                        id = xurl + vod.select_one("div a")["href"]
                        if "data-original" in a_tag.attrs:
                            pic = a_tag["data-original"]
                        else:
                            continue
                        remark = vod.find('span', class_="pic-text text-right").text
                        video = {
                            "vod_id": id,
                            "vod_name": name,
                            "vod_pic": pic,
                            "vod_remarks": remark
                        }
                        videos.append(video)
            result = {'list': videos}
            return result
        except:
            pass

    def categoryContent(self, cid, pg, filter, ext):
        result = {}
        area = ""
        if pg:
            page = int(pg)
        else:
            page = 1
        page = int(pg)
        videos = []
        lxType1 = lxType = ndType = dqType = yyType = zmType = pxType = ""
        if cid == '1':
            if '类型' in ext.keys():
                lxType = '/id/' + ext['类型']
            else:
                lxType = '/id/' + cid
        else:
            lxType = '/id/' + cid
            if '类型' in ext.keys():
                lxType1 = '/class/' + ext['类型']
            else:
                lxType1 = ""

        if '年代' in ext.keys():
            ndType = '/year/' + ext['年代']
        else:
            ndType = ""
        if '地区' in ext.keys():
            dqType = '/area/' + ext['地区']
        else:
            dqType = ""
        if '语言' in ext.keys():
            yyType = '/lang/' + ext['语言']
        else:
            yyType = ""
        if '字母' in ext.keys():
            zmType = '/letter/' + ext['字母']
        else:
            zmType = ""
        if '排序' in ext.keys():
            pxType = '/by/' + ext['排序']
        else:
            pxType = ""
        videos = []

       
        url = xurl + "/index.php/vod/show" + dqType + pxType + lxType1 + lxType + yyType + "/page/" + str(
            page) + ndType + ".html"

        try:
            detail = requests.get(url=url, headers=headerx)
            detail.encoding = "utf-8"
            doc = BeautifulSoup(detail.text, "html.parser")
            soup = doc.find('ul', class_='ewaveui-vodlist clearfix')
            vods = soup.find_all('li')
            for vod in vods:
                a_tag = vod.select_one("div a")
                name = vod.select_one("div a")['title']
                id = vod.select_one("div a")["href"]
                if "data-original" in a_tag.attrs:
                    pic = a_tag["data-original"]
                else:
                    continue
                remark = vod.find('span', class_="pic-text text-right").text
                video = {
                    "vod_id": id,
                    "vod_name": name,
                    "vod_pic": pic,
                    "vod_remarks": remark
                }
                videos.append(video)
        except:
            pass
        result = {'list': videos}
        result['page'] = pg
        result['pagecount'] = 9999
        result['limit'] = 90
        result['total'] = 999999
        return result

    def detailContent(self, ids):
        did = ids[0]
        result = {}
        videos = []
        playurl = ''
        res = requests.get(url=xurl + did, headers=headerx)
        res = res.text
        soup = BeautifulSoup(res, 'html.parser')
        ul = soup.find('ul', class_="ewaveui-content__list sort-list clearfix")
        vods = ul.find_all('li')
        for vod in vods:
            purl = vod.select_one('a')['href']
            plform = vod.select_one('a').text
            playurl += plform + '$' + purl + '#'

        playurl = playurl[:-1]

        videos.append({
            "vod_id": did,
            "vod_name": '',
            "vod_pic": "",
            "type_name": '',
            "vod_year": '',
            "vod_area": '',
            "vod_remarks": "",
            "vod_actor": '',
            "vod_director": '',
            "vod_content": '',
            "vod_play_from": '直链播放',
            "vod_play_url": playurl
        })

        result['list'] = videos

        return result

    def playerContent(self, flag, id, vipFlags):
        result = {}
        res = requests.get(xurl + id, headers=headerx)
        res.encoding = "utf-8"
        match = re.search(r'"","url":"(.*?)"', res.text)
        if match:
            purl = match.group(1).replace('\\', '')
        result["parse"] = 0
        result["playUrl"] = ''
        result["url"] = purl
        result["header"] = headerx
        return result

    def searchContentPage(self, key, quick, page):
        result = {}
        videos = []
        if not page:
            page = 1
        detail = requests.get(xurl + '/index.php/vod/search/page/' + str(page) + '/wd/' + key + '.html',
                              headers=headerx)
        print(xurl + '/index.php/vod/search/page/' + str(page) + '/wd/' + key + '.html')
        detail.encoding = "utf-8"
        doc = BeautifulSoup(detail.text, "html.parser")
        soup = doc.find('ul', class_='ewaveui-vodlist__media clearfix')
        vods = soup.find_all('li')
        for vod in vods:
            a_tag = vod.select_one("div a")
            name = vod.select_one("div a")['title']
            id = vod.select_one("div a")["href"]
            if "data-original" in a_tag.attrs:
                pic = a_tag["data-original"]
            else:
                continue
            remark = vod.find('span', class_="pic-text text-right").text
            video = {
                "vod_id": id,
                "vod_name": name,
                "vod_pic": pic,
                "vod_remarks": remark
            }
            videos.append(video)

        result['list'] = videos
        result['page'] = page
        result['pagecount'] = 9999
        result['limit'] = 90
        result['total'] = 999999
        return result
    def searchContent(self, key, quick):
        return self.searchContentPage(key, quick, '1')



    def localProxy(self, params):
        if params['type'] == "m3u8":
            return self.proxyM3u8(params)
        elif params['type'] == "media":
            return self.proxyMedia(params)
        elif params['type'] == "ts":
            return self.proxyTs(params)
        return None
